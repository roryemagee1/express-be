{"{\"assumptions\":{},\"sourceRoot\":\"/Users/rorymagee/turing/5module/learning-node/pet-box/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/rorymagee/turing/5module/learning-node/pet-box\",\"filename\":\"/Users/rorymagee/turing/5module/learning-node/pet-box/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/rorymagee/turing/5module/learning-node/pet-box\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.6:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\n\nvar app = express();\n\nvar cors = require('cors');\n\napp.use(express.json());\napp.use(cors()); // const express = require('express')\n// const app = express()\n// const environment = process.env.NODE_ENV || 'development'\n// const configuration = require('./knexfile')[environment]\n// const database = require('knex')(configuration)\n// app.use(express.static('public'));\n// app.get('/', (request, response) => {});\n\napp.set('port', process.env.PORT || 3000);\napp.locals.title = 'Pet Box';\napp.locals.pets = [{\n  id: 'a1',\n  name: 'Jessica',\n  type: 'dog'\n}, {\n  id: 'b2',\n  name: 'Marcus Aurelius',\n  type: 'parakeet'\n}, {\n  id: 'c3',\n  name: 'Craisins',\n  type: 'cat'\n}];\napp.get('/', function (request, response) {\n  response.send('Oh hey Pet Box'); // response.send(app.locals.pets[0].name);\n});\napp.get('/api/v1/pets', function (request, response) {\n  var pets = app.locals.pets;\n  response.json({\n    pets: pets\n  });\n}); // app.get('/api/v1/pets/:id', (request, response) => {\n//   // response.json({\n//   //   id: request.params.id\n//   // });\n//   const pets = app.locals.pets;\n//   const output = pets.find(pet => pet.id === request.params.id)\n//   response.status(200).json( output );\n// });\n\napp.get('/api/v1/pets/:id', function (request, response) {\n  var id = request.params.id;\n  var pet = app.locals.pets.find(function (pet) {\n    return pet.id === id;\n  });\n\n  if (!pet) {\n    return response.sendStatus(404); // const err = { 'err': '404 Not Found' };\n    // return response.status(404).json(err.err);\n  }\n\n  response.status(200).json(pet);\n});\napp.post('/api/v1/pets', function (request, response) {\n  var id = Date.now();\n  var pet = request.body;\n\n  for (var _i = 0, _arr = ['name', 'type']; _i < _arr.length; _i++) {\n    var requiredParameter = _arr[_i];\n\n    if (!pet[requiredParameter]) {\n      response.status(422).send({\n        error: \"Expected format: { name: <String>, type: <String> }. You're missing a \\\"\".concat(requiredParameter, \"\\\" property.\")\n      });\n    }\n  }\n\n  var name = pet.name,\n      type = pet.type;\n  app.locals.pets.push({\n    name: name,\n    type: type,\n    id: id\n  });\n  response.status(201).json({\n    name: name,\n    type: type,\n    id: id\n  });\n});\napp.patch('/api/v1/pets/:id', function (request, response) {\n  var id = request.params.id;\n  var pet = request.body;\n  console.log(pet);\n  var found = app.locals.pets.find(function (pet) {\n    return pet.id === id;\n  });\n  console.log(found);\n\n  if (!found) {\n    response.status(400).json({\n      message: \"No item was found with id of \".concat(request.params.id, \".\")\n    });\n  } // if (!pet.name && !pet.type) {\n  //   response\n  //     .status(422)\n  //     .send({ error: `Expected either name: <String> or type: <String> in body. You're missing one or the other or both.` });\n  // }\n\n\n  var change = {\n    name: request.body.name || found.name,\n    type: request.body.type || found.type,\n    id: found.id\n  };\n  app.locals.pets = app.locals.pets.map(function (pet) {\n    if (pet.id === id) {\n      return change;\n    } else {\n      return pet;\n    }\n  });\n  response.status(200).json({\n    message: \"The item with id of \".concat(request.params.id, \" has been updated.\")\n  });\n});\napp.patch('/api/v1/pets/:id', function (request, response) {\n  var id = request.params.id;\n  var found = app.locals.pets.find(function (pet) {\n    return pet.id === id;\n  });\n\n  if (!found) {\n    response.status(400).json({\n      message: \"No item was found with id of \".concat(request.params.id, \".\")\n    });\n  }\n});\napp.listen(app.get('port'), function () {\n  console.log(\"\".concat(app.locals.title, \" is running on http://localhost:\").concat(app.get('port'), \".\"));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsImNvcnMiLCJ1c2UiLCJqc29uIiwic2V0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsb2NhbHMiLCJ0aXRsZSIsInBldHMiLCJpZCIsIm5hbWUiLCJ0eXBlIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2VuZCIsInBhcmFtcyIsInBldCIsImZpbmQiLCJzZW5kU3RhdHVzIiwic3RhdHVzIiwicG9zdCIsIkRhdGUiLCJub3ciLCJib2R5IiwicmVxdWlyZWRQYXJhbWV0ZXIiLCJlcnJvciIsInB1c2giLCJwYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJmb3VuZCIsIm1lc3NhZ2UiLCJjaGFuZ2UiLCJtYXAiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9yb3J5bWFnZWUvdHVyaW5nLzVtb2R1bGUvbGVhcm5pbmctbm9kZS9wZXQtYm94LyIsInNvdXJjZXMiOlsic2VydmVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJyk7XG5jb25zdCBhcHAgPSBleHByZXNzKCk7XG5jb25zdCBjb3JzID0gcmVxdWlyZSgnY29ycycpXG5hcHAudXNlKGV4cHJlc3MuanNvbigpKTtcbmFwcC51c2UoY29ycygpKTtcblxuLy8gY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxuLy8gY29uc3QgYXBwID0gZXhwcmVzcygpXG4vLyBjb25zdCBlbnZpcm9ubWVudCA9IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCdcbi8vIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSByZXF1aXJlKCcuL2tuZXhmaWxlJylbZW52aXJvbm1lbnRdXG4vLyBjb25zdCBkYXRhYmFzZSA9IHJlcXVpcmUoJ2tuZXgnKShjb25maWd1cmF0aW9uKVxuXG5cblxuLy8gYXBwLnVzZShleHByZXNzLnN0YXRpYygncHVibGljJykpO1xuLy8gYXBwLmdldCgnLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge30pO1xuXG5hcHAuc2V0KCdwb3J0JywgcHJvY2Vzcy5lbnYuUE9SVCB8fCAzMDAwKTtcbmFwcC5sb2NhbHMudGl0bGUgPSAnUGV0IEJveCc7XG5cbmFwcC5sb2NhbHMucGV0cyA9IFtcbiAgeyBpZDogJ2ExJywgbmFtZTogJ0plc3NpY2EnLCB0eXBlOiAnZG9nJyB9LFxuICB7IGlkOiAnYjInLCBuYW1lOiAnTWFyY3VzIEF1cmVsaXVzJywgdHlwZTogJ3BhcmFrZWV0JyB9LFxuICB7IGlkOiAnYzMnLCBuYW1lOiAnQ3JhaXNpbnMnLCB0eXBlOiAnY2F0JyB9XG5dO1xuXG5hcHAuZ2V0KCcvJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gIHJlc3BvbnNlLnNlbmQoJ09oIGhleSBQZXQgQm94Jyk7XG4gIC8vIHJlc3BvbnNlLnNlbmQoYXBwLmxvY2Fscy5wZXRzWzBdLm5hbWUpO1xufSk7XG5cblxuXG5hcHAuZ2V0KCcvYXBpL3YxL3BldHMnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgY29uc3QgcGV0cyA9IGFwcC5sb2NhbHMucGV0cztcblxuICByZXNwb25zZS5qc29uKHsgcGV0cyB9KTtcbn0pO1xuXG4vLyBhcHAuZ2V0KCcvYXBpL3YxL3BldHMvOmlkJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4vLyAgIC8vIHJlc3BvbnNlLmpzb24oe1xuLy8gICAvLyAgIGlkOiByZXF1ZXN0LnBhcmFtcy5pZFxuLy8gICAvLyB9KTtcbi8vICAgY29uc3QgcGV0cyA9IGFwcC5sb2NhbHMucGV0cztcbi8vICAgY29uc3Qgb3V0cHV0ID0gcGV0cy5maW5kKHBldCA9PiBwZXQuaWQgPT09IHJlcXVlc3QucGFyYW1zLmlkKVxuLy8gICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKCBvdXRwdXQgKTtcbi8vIH0pO1xuXG5hcHAuZ2V0KCcvYXBpL3YxL3BldHMvOmlkJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHsgaWQgfSA9IHJlcXVlc3QucGFyYW1zO1xuICBjb25zdCBwZXQgPSBhcHAubG9jYWxzLnBldHMuZmluZChwZXQgPT4gcGV0LmlkID09PSBpZCk7XG4gIGlmICghcGV0KSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLnNlbmRTdGF0dXMoNDA0KTtcbiAgICAvLyBjb25zdCBlcnIgPSB7ICdlcnInOiAnNDA0IE5vdCBGb3VuZCcgfTtcbiAgICAvLyByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDQwNCkuanNvbihlcnIuZXJyKTtcbiAgfVxuXG4gIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24ocGV0KTtcbn0pO1xuXG5hcHAucG9zdCgnL2FwaS92MS9wZXRzJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IGlkID0gRGF0ZS5ub3coKTtcbiAgY29uc3QgcGV0ID0gcmVxdWVzdC5ib2R5O1xuXG4gIGZvciAobGV0IHJlcXVpcmVkUGFyYW1ldGVyIG9mIFsnbmFtZScsICd0eXBlJ10pIHtcbiAgICBpZiAoIXBldFtyZXF1aXJlZFBhcmFtZXRlcl0pIHtcbiAgICAgIHJlc3BvbnNlXG4gICAgICAgIC5zdGF0dXMoNDIyKVxuICAgICAgICAuc2VuZCh7IGVycm9yOiBgRXhwZWN0ZWQgZm9ybWF0OiB7IG5hbWU6IDxTdHJpbmc+LCB0eXBlOiA8U3RyaW5nPiB9LiBZb3UncmUgbWlzc2luZyBhIFwiJHtyZXF1aXJlZFBhcmFtZXRlcn1cIiBwcm9wZXJ0eS5gIH0pO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHsgbmFtZSwgdHlwZSB9ID0gcGV0O1xuICBhcHAubG9jYWxzLnBldHMucHVzaCh7IG5hbWUsIHR5cGUsIGlkIH0pO1xuICByZXNwb25zZS5zdGF0dXMoMjAxKS5qc29uKHsgbmFtZSwgdHlwZSwgaWQgfSk7XG59KTtcblxuYXBwLnBhdGNoKCcvYXBpL3YxL3BldHMvOmlkJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IGlkID0gcmVxdWVzdC5wYXJhbXMuaWQ7XG4gIGNvbnN0IHBldCA9IHJlcXVlc3QuYm9keTtcbiAgY29uc29sZS5sb2cocGV0KTtcbiAgY29uc3QgZm91bmQgPSBhcHAubG9jYWxzLnBldHMuZmluZChwZXQgPT4gcGV0LmlkID09PSBpZCk7XG4gIGNvbnNvbGUubG9nKGZvdW5kKVxuXG4gIGlmICghZm91bmQpIHtcbiAgICByZXNwb25zZS5zdGF0dXMoNDAwKS5qc29uKHsgbWVzc2FnZTogYE5vIGl0ZW0gd2FzIGZvdW5kIHdpdGggaWQgb2YgJHtyZXF1ZXN0LnBhcmFtcy5pZH0uYH0pXG4gIH1cblxuICAvLyBpZiAoIXBldC5uYW1lICYmICFwZXQudHlwZSkge1xuICAvLyAgIHJlc3BvbnNlXG4gIC8vICAgICAuc3RhdHVzKDQyMilcbiAgLy8gICAgIC5zZW5kKHsgZXJyb3I6IGBFeHBlY3RlZCBlaXRoZXIgbmFtZTogPFN0cmluZz4gb3IgdHlwZTogPFN0cmluZz4gaW4gYm9keS4gWW91J3JlIG1pc3Npbmcgb25lIG9yIHRoZSBvdGhlciBvciBib3RoLmAgfSk7XG4gIC8vIH1cblxuICBjb25zdCBjaGFuZ2UgPSB7IG5hbWU6IHJlcXVlc3QuYm9keS5uYW1lIHx8IGZvdW5kLm5hbWUsIHR5cGU6IHJlcXVlc3QuYm9keS50eXBlIHx8IGZvdW5kLnR5cGUsIGlkOiBmb3VuZC5pZH1cbiAgYXBwLmxvY2Fscy5wZXRzID0gYXBwLmxvY2Fscy5wZXRzLm1hcChwZXQgPT4ge1xuICAgIGlmIChwZXQuaWQgPT09IGlkKSB7XG4gICAgICByZXR1cm4gY2hhbmdlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcGV0O1xuICAgIH1cbiAgfSk7XG4gIHJlc3BvbnNlLnN0YXR1cygyMDApLmpzb24oeyBtZXNzYWdlOiBgVGhlIGl0ZW0gd2l0aCBpZCBvZiAke3JlcXVlc3QucGFyYW1zLmlkfSBoYXMgYmVlbiB1cGRhdGVkLmB9KTtcblxufSk7XG5cbmFwcC5wYXRjaCgnL2FwaS92MS9wZXRzLzppZCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICBjb25zdCBpZCA9IHJlcXVlc3QucGFyYW1zLmlkO1xuICBjb25zdCBmb3VuZCA9IGFwcC5sb2NhbHMucGV0cy5maW5kKHBldCA9PiBwZXQuaWQgPT09IGlkKTtcblxuICBpZiAoIWZvdW5kKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGBObyBpdGVtIHdhcyBmb3VuZCB3aXRoIGlkIG9mICR7cmVxdWVzdC5wYXJhbXMuaWR9LmB9KVxuICB9XG59KVxuXG5hcHAubGlzdGVuKGFwcC5nZXQoJ3BvcnQnKSwgKCkgPT4ge1xuICBjb25zb2xlLmxvZyhgJHthcHAubG9jYWxzLnRpdGxlfSBpcyBydW5uaW5nIG9uIGh0dHA6Ly9sb2NhbGhvc3Q6JHthcHAuZ2V0KCdwb3J0Jyl9LmApO1xufSk7Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLE9BQU8sR0FBR0MsT0FBTyxDQUFDLFNBQUQsQ0FBdkI7O0FBQ0EsSUFBTUMsR0FBRyxHQUFHRixPQUFPLEVBQW5COztBQUNBLElBQU1HLElBQUksR0FBR0YsT0FBTyxDQUFDLE1BQUQsQ0FBcEI7O0FBQ0FDLEdBQUcsQ0FBQ0UsR0FBSixDQUFRSixPQUFPLENBQUNLLElBQVIsRUFBUjtBQUNBSCxHQUFHLENBQUNFLEdBQUosQ0FBUUQsSUFBSSxFQUFaLEUsQ0FFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTs7QUFFQUQsR0FBRyxDQUFDSSxHQUFKLENBQVEsTUFBUixFQUFnQkMsT0FBTyxDQUFDQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFBcEM7QUFDQVAsR0FBRyxDQUFDUSxNQUFKLENBQVdDLEtBQVgsR0FBbUIsU0FBbkI7QUFFQVQsR0FBRyxDQUFDUSxNQUFKLENBQVdFLElBQVgsR0FBa0IsQ0FDaEI7RUFBRUMsRUFBRSxFQUFFLElBQU47RUFBWUMsSUFBSSxFQUFFLFNBQWxCO0VBQTZCQyxJQUFJLEVBQUU7QUFBbkMsQ0FEZ0IsRUFFaEI7RUFBRUYsRUFBRSxFQUFFLElBQU47RUFBWUMsSUFBSSxFQUFFLGlCQUFsQjtFQUFxQ0MsSUFBSSxFQUFFO0FB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","map":{"version":3,"names":["express","require","app","cors","use","json","set","process","env","PORT","locals","title","pets","id","name","type","get","request","response","send","params","pet","find","sendStatus","status","post","Date","now","body","requiredParameter","error","push","patch","console","log","found","message","change","map","listen"],"sourceRoot":"/Users/rorymagee/turing/5module/learning-node/pet-box/","sources":["server.js"],"sourcesContent":["const express = require('express');\nconst app = express();\nconst cors = require('cors')\napp.use(express.json());\napp.use(cors());\n\n// const express = require('express')\n// const app = express()\n// const environment = process.env.NODE_ENV || 'development'\n// const configuration = require('./knexfile')[environment]\n// const database = require('knex')(configuration)\n\n\n\n// app.use(express.static('public'));\n// app.get('/', (request, response) => {});\n\napp.set('port', process.env.PORT || 3000);\napp.locals.title = 'Pet Box';\n\napp.locals.pets = [\n  { id: 'a1', name: 'Jessica', type: 'dog' },\n  { id: 'b2', name: 'Marcus Aurelius', type: 'parakeet' },\n  { id: 'c3', name: 'Craisins', type: 'cat' }\n];\n\napp.get('/', (request, response) => {\n  response.send('Oh hey Pet Box');\n  // response.send(app.locals.pets[0].name);\n});\n\n\n\napp.get('/api/v1/pets', (request, response) => {\n  const pets = app.locals.pets;\n\n  response.json({ pets });\n});\n\n// app.get('/api/v1/pets/:id', (request, response) => {\n//   // response.json({\n//   //   id: request.params.id\n//   // });\n//   const pets = app.locals.pets;\n//   const output = pets.find(pet => pet.id === request.params.id)\n//   response.status(200).json( output );\n// });\n\napp.get('/api/v1/pets/:id', (request, response) => {\n  const { id } = request.params;\n  const pet = app.locals.pets.find(pet => pet.id === id);\n  if (!pet) {\n    return response.sendStatus(404);\n    // const err = { 'err': '404 Not Found' };\n    // return response.status(404).json(err.err);\n  }\n\n  response.status(200).json(pet);\n});\n\napp.post('/api/v1/pets', (request, response) => {\n  const id = Date.now();\n  const pet = request.body;\n\n  for (let requiredParameter of ['name', 'type']) {\n    if (!pet[requiredParameter]) {\n      response\n        .status(422)\n        .send({ error: `Expected format: { name: <String>, type: <String> }. You're missing a \"${requiredParameter}\" property.` });\n    }\n  }\n\n  const { name, type } = pet;\n  app.locals.pets.push({ name, type, id });\n  response.status(201).json({ name, type, id });\n});\n\napp.patch('/api/v1/pets/:id', (request, response) => {\n  const id = request.params.id;\n  const pet = request.body;\n  console.log(pet);\n  const found = app.locals.pets.find(pet => pet.id === id);\n  console.log(found)\n\n  if (!found) {\n    response.status(400).json({ message: `No item was found with id of ${request.params.id}.`})\n  }\n\n  // if (!pet.name && !pet.type) {\n  //   response\n  //     .status(422)\n  //     .send({ error: `Expected either name: <String> or type: <String> in body. You're missing one or the other or both.` });\n  // }\n\n  const change = { name: request.body.name || found.name, type: request.body.type || found.type, id: found.id}\n  app.locals.pets = app.locals.pets.map(pet => {\n    if (pet.id === id) {\n      return change;\n    } else {\n      return pet;\n    }\n  });\n  response.status(200).json({ message: `The item with id of ${request.params.id} has been updated.`});\n\n});\n\napp.patch('/api/v1/pets/:id', (request, response) => {\n  const id = request.params.id;\n  const found = app.locals.pets.find(pet => pet.id === id);\n\n  if (!found) {\n    response.status(400).json({ message: `No item was found with id of ${request.params.id}.`})\n  }\n})\n\napp.listen(app.get('port'), () => {\n  console.log(`${app.locals.title} is running on http://localhost:${app.get('port')}.`);\n});"],"mappings":";;AAAA,IAAMA,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,IAAMC,GAAG,GAAGF,OAAO,EAAnB;;AACA,IAAMG,IAAI,GAAGF,OAAO,CAAC,MAAD,CAApB;;AACAC,GAAG,CAACE,GAAJ,CAAQJ,OAAO,CAACK,IAAR,EAAR;AACAH,GAAG,CAACE,GAAJ,CAAQD,IAAI,EAAZ,E,CAEA;AACA;AACA;AACA;AACA;AAIA;AACA;;AAEAD,GAAG,CAACI,GAAJ,CAAQ,MAAR,EAAgBC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAApC;AACAP,GAAG,CAACQ,MAAJ,CAAWC,KAAX,GAAmB,SAAnB;AAEAT,GAAG,CAACQ,MAAJ,CAAWE,IAAX,GAAkB,CAChB;EAAEC,EAAE,EAAE,IAAN;EAAYC,IAAI,EAAE,SAAlB;EAA6BC,IAAI,EAAE;AAAnC,CADgB,EAEhB;EAAEF,EAAE,EAAE,IAAN;EAAYC,IAAI,EAAE,iBAAlB;EAAqCC,IAAI,EAAE;AAA3C,CAFgB,EAGhB;EAAEF,EAAE,EAAE,IAAN;EAAYC,IAAI,EAAE,UAAlB;EAA8BC,IAAI,EAAE;AAApC,CAHgB,CAAlB;AAMAb,GAAG,CAACc,GAAJ,CAAQ,GAAR,EAAa,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAClCA,QAAQ,CAACC,IAAT,CAAc,gBAAd,EADkC,CAElC;AACD,CAHD;AAOAjB,GAAG,CAACc,GAAJ,CAAQ,cAAR,EAAwB,UAACC,OAAD,EAAUC,QAAV,EAAuB;EAC7C,IAAMN,IAAI,GAAGV,GAAG,CAACQ,MAAJ,CAAWE,IAAxB;EAEAM,QAAQ,CAACb,IAAT,CAAc;IAAEO,IAAI,EAAJA;EAAF,CAAd;AACD,CAJD,E,CAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAV,GAAG,CAACc,GAAJ,CAAQ,kBAAR,EAA4B,UAACC,OAAD,EAAUC,QAAV,EAAuB;EACjD,IAAQL,EAAR,GAAeI,OAAO,CAACG,MAAvB,CAAQP,EAAR;EACA,IAAMQ,GAAG,GAAGnB,GAAG,CAACQ,MAAJ,CAAWE,IAAX,CAAgBU,IAAhB,CAAqB,UAAAD,GAAG;IAAA,OAAIA,GAAG,CAACR,EAAJ,KAAWA,EAAf;EAAA,CAAxB,CAAZ;;EACA,IAAI,CAACQ,GAAL,EAAU;IACR,OAAOH,QAAQ,CAACK,UAAT,CAAoB,GAApB,CAAP,CADQ,CAER;IACA;EACD;;EAEDL,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBnB,IAArB,CAA0BgB,GAA1B;AACD,CAVD;AAYAnB,GAAG,CAACuB,IAAJ,CAAS,cAAT,EAAyB,UAACR,OAAD,EAAUC,QAAV,EAAuB;EAC9C,IAAML,EAAE,GAAGa,IAAI,CAACC,GAAL,EAAX;EACA,IAAMN,GAAG,GAAGJ,OAAO,CAACW,IAApB;;EAEA,wBAA8B,CAAC,MAAD,EAAS,MAAT,CAA9B,0BAAgD;IAA3C,IAAIC,iBAAiB,WAArB;;IACH,IAAI,CAACR,GAAG,CAACQ,iBAAD,CAAR,EAA6B;MAC3BX,QAAQ,CACLM,MADH,CACU,GADV,EAEGL,IAFH,CAEQ;QAAEW,KAAK,oFAA4ED,iBAA5E;MAAP,CAFR;IAGD;EACF;;EAED,IAAQf,IAAR,GAAuBO,GAAvB,CAAQP,IAAR;EAAA,IAAcC,IAAd,GAAuBM,GAAvB,CAAcN,IAAd;EACAb,GAAG,CAACQ,MAAJ,CAAWE,IAAX,CAAgBmB,IAAhB,CAAqB;IAAEjB,IAAI,EAAJA,IAAF;IAAQC,IAAI,EAAJA,IAAR;IAAcF,EAAE,EAAFA;EAAd,CAArB;EACAK,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBnB,IAArB,CAA0B;IAAES,IAAI,EAAJA,IAAF;IAAQC,IAAI,EAAJA,IAAR;IAAcF,EAAE,EAAFA;EAAd,CAA1B;AACD,CAfD;AAiBAX,GAAG,CAAC8B,KAAJ,CAAU,kBAAV,EAA8B,UAACf,OAAD,EAAUC,QAAV,EAAuB;EACnD,IAAML,EAAE,GAAGI,OAAO,CAACG,MAAR,CAAeP,EAA1B;EACA,IAAMQ,GAAG,GAAGJ,OAAO,CAACW,IAApB;EACAK,OAAO,CAACC,GAAR,CAAYb,GAAZ;EACA,IAAMc,KAAK,GAAGjC,GAAG,CAACQ,MAAJ,CAAWE,IAAX,CAAgBU,IAAhB,CAAqB,UAAAD,GAAG;IAAA,OAAIA,GAAG,CAACR,EAAJ,KAAWA,EAAf;EAAA,CAAxB,CAAd;EACAoB,OAAO,CAACC,GAAR,CAAYC,KAAZ;;EAEA,IAAI,CAACA,KAAL,EAAY;IACVjB,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBnB,IAArB,CAA0B;MAAE+B,OAAO,yCAAkCnB,OAAO,CAACG,MAAR,CAAeP,EAAjD;IAAT,CAA1B;EACD,CATkD,CAWnD;EACA;EACA;EACA;EACA;;;EAEA,IAAMwB,MAAM,GAAG;IAAEvB,IAAI,EAAEG,OAAO,CAACW,IAAR,CAAad,IAAb,IAAqBqB,KAAK,CAACrB,IAAnC;IAAyCC,IAAI,EAAEE,OAAO,CAACW,IAAR,CAAab,IAAb,IAAqBoB,KAAK,CAACpB,IAA1E;IAAgFF,EAAE,EAAEsB,KAAK,CAACtB;EAA1F,CAAf;EACAX,GAAG,CAACQ,MAAJ,CAAWE,IAAX,GAAkBV,GAAG,CAACQ,MAAJ,CAAWE,IAAX,CAAgB0B,GAAhB,CAAoB,UAAAjB,GAAG,EAAI;IAC3C,IAAIA,GAAG,CAACR,EAAJ,KAAWA,EAAf,EAAmB;MACjB,OAAOwB,MAAP;IACD,CAFD,MAEO;MACL,OAAOhB,GAAP;IACD;EACF,CANiB,CAAlB;EAOAH,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBnB,IAArB,CAA0B;IAAE+B,OAAO,gCAAyBnB,OAAO,CAACG,MAAR,CAAeP,EAAxC;EAAT,CAA1B;AAED,CA3BD;AA6BAX,GAAG,CAAC8B,KAAJ,CAAU,kBAAV,EAA8B,UAACf,OAAD,EAAUC,QAAV,EAAuB;EACnD,IAAML,EAAE,GAAGI,OAAO,CAACG,MAAR,CAAeP,EAA1B;EACA,IAAMsB,KAAK,GAAGjC,GAAG,CAACQ,MAAJ,CAAWE,IAAX,CAAgBU,IAAhB,CAAqB,UAAAD,GAAG;IAAA,OAAIA,GAAG,CAACR,EAAJ,KAAWA,EAAf;EAAA,CAAxB,CAAd;;EAEA,IAAI,CAACsB,KAAL,EAAY;IACVjB,QAAQ,CAACM,MAAT,CAAgB,GAAhB,EAAqBnB,IAArB,CAA0B;MAAE+B,OAAO,yCAAkCnB,OAAO,CAACG,MAAR,CAAeP,EAAjD;IAAT,CAA1B;EACD;AACF,CAPD;AASAX,GAAG,CAACqC,MAAJ,CAAWrC,GAAG,CAACc,GAAJ,CAAQ,MAAR,CAAX,EAA4B,YAAM;EAChCiB,OAAO,CAACC,GAAR,WAAehC,GAAG,CAACQ,MAAJ,CAAWC,KAA1B,6CAAkET,GAAG,CAACc,GAAJ,CAAQ,MAAR,CAAlE;AACD,CAFD"}},"mtime":1657138194247},"{\"assumptions\":{},\"sourceRoot\":\"/Users/rorymagee/turing/5module/learning-node/react-express/express-be/\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"/Users/rorymagee/turing/5module/learning-node/react-express/express-be\",\"filename\":\"/Users/rorymagee/turing/5module/learning-node/react-express/express-be/server.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"/Users/rorymagee/turing/5module/learning-node/react-express/express-be\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"proposal-class-static-block\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-private-property-in-object\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"proposal-numeric-separator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-logical-assignment-operators\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-nullish-coalescing-operator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-chaining\",\"visitor\":{\"_exploded\":true,\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-json-strings\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-optional-catch-binding\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-async-generator-functions\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-async-to-generator\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-exponentiation-operator\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-literals\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-arrow-functions\",\"visitor\":{\"ArrowFunctionExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoped-functions\",\"visitor\":{\"BlockStatement\":{\"enter\":[null]},\"SwitchCase\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-classes\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-object-super\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-shorthand-properties\",\"visitor\":{\"ObjectMethod\":{\"enter\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-duplicate-keys\",\"visitor\":{\"ObjectExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-computed-properties\",\"visitor\":{\"ObjectExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-for-of\",\"visitor\":{\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-sticky-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-escapes\",\"visitor\":{\"Identifier\":{\"enter\":[null]},\"TemplateElement\":{\"enter\":[null]},\"_exploded\":true,\"StringLiteral\":{\"enter\":[null]},\"DirectiveLiteral\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-spread\",\"visitor\":{\"ArrayExpression\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"NewExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-destructuring\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"VariableDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-block-scoping\",\"visitor\":{\"VariableDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"BlockStatement\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_verified\":true,\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-typeof-symbol\",\"visitor\":{\"UnaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"BlockStatement\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"DoWhileStatement\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForStatement\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"SwitchStatement\":{\"enter\":[null]},\"WhileStatement\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"StaticBlock\":{\"enter\":[null]},\"TSModuleBlock\":{\"enter\":[null]},\"AssignmentPattern\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-new-target\",\"visitor\":{\"MetaProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-regenerator\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ObjectMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassMethod\":{\"enter\":[null],\"exit\":[null]},\"ClassPrivateMethod\":{\"enter\":[null],\"exit\":[null]},\"FunctionDeclaration\":{\"exit\":[null]},\"FunctionExpression\":{\"exit\":[null]},\"ArrowFunctionExpression\":{\"exit\":[null]},\"MemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-member-expression-literals\",\"visitor\":{\"MemberExpression\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-property-literals\",\"visitor\":{\"ObjectProperty\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-reserved-words\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"Identifier\":{\"enter\":[null,null]},\"JSXIdentifier\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-export-namespace-from\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"CallExpression\":{\"enter\":[null]},\"Program\":{\"exit\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]},{\"key\":\"proposal-dynamic-import\",\"visitor\":{\"_exploded\":{},\"_verified\":{},\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":false},\"externalDependencies\":[]}],\"presets\":[]}:7.18.6:development":{"value":{"code":"\"use strict\";\n\nvar express = require('express');\n\nvar app = express();\n\nvar cors = require('cors');\n\napp.use(express.json());\napp.use(cors()); // const express = require('express')\n// const app = express()\n// const environment = process.env.NODE_ENV || 'development'\n// const configuration = require('./knexfile')[environment]\n// const database = require('knex')(configuration)\n// app.use(express.static('public'));\n// app.get('/', (request, response) => {});\n\napp.set('port', process.env.PORT || 3001);\napp.locals.title = 'Pet Box';\napp.locals.pets = [{\n  id: 'a1',\n  name: 'Jessica',\n  type: 'dog'\n}, {\n  id: 'b2',\n  name: 'Marcus Aurelius',\n  type: 'parakeet'\n}, {\n  id: 'c3',\n  name: 'Craisins',\n  type: 'cat'\n}];\napp.get('/', function (request, response) {\n  response.send('Oh hey Pet Box'); // response.send(app.locals.pets[0].name);\n});\napp.get('/api/v1/pets', function (request, response) {\n  var pets = app.locals.pets;\n  response.json({\n    pets: pets\n  });\n}); // app.get('/api/v1/pets/:id', (request, response) => {\n//   // response.json({\n//   //   id: request.params.id\n//   // });\n//   const pets = app.locals.pets;\n//   const output = pets.find(pet => pet.id === request.params.id)\n//   response.status(200).json( output );\n// });\n\napp.get('/api/v1/pets/:id', function (request, response) {\n  var id = request.params.id;\n  var pet = app.locals.pets.find(function (pet) {\n    return pet.id === id;\n  });\n\n  if (!pet) {\n    return response.sendStatus(404); // const err = { 'err': '404 Not Found' };\n    // return response.status(404).json(err.err);\n  }\n\n  response.status(200).json(pet);\n});\napp.post('/api/v1/pets', function (request, response) {\n  var id = Date.now();\n  var pet = request.body;\n\n  for (var _i = 0, _arr = ['name', 'type']; _i < _arr.length; _i++) {\n    var requiredParameter = _arr[_i];\n\n    if (!pet[requiredParameter]) {\n      response.status(422).send({\n        error: \"Expected format: { name: <String>, type: <String> }. You're missing a \\\"\".concat(requiredParameter, \"\\\" property.\")\n      });\n    }\n  }\n\n  var name = pet.name,\n      type = pet.type;\n  app.locals.pets.push({\n    name: name,\n    type: type,\n    id: id\n  });\n  response.status(201).json({\n    name: name,\n    type: type,\n    id: id\n  });\n});\napp.patch('/api/v1/pets/:id', function (request, response) {\n  var id = request.params.id;\n  var pet = request.body;\n  console.log(pet);\n  var found = app.locals.pets.find(function (pet) {\n    return pet.id === id;\n  });\n  console.log(found);\n\n  if (!found) {\n    response.status(400).json({\n      message: \"No item was found with id of \".concat(request.params.id, \".\")\n    });\n  } // if (!pet.name && !pet.type) {\n  //   response\n  //     .status(422)\n  //     .send({ error: `Expected either name: <String> or type: <String> in body. You're missing one or the other or both.` });\n  // }\n\n\n  var change = {\n    name: request.body.name || found.name,\n    type: request.body.type || found.type,\n    id: found.id\n  };\n  app.locals.pets = app.locals.pets.map(function (pet) {\n    if (pet.id === id) {\n      return change;\n    } else {\n      return pet;\n    }\n  });\n  response.status(200).json({\n    message: \"The item with id of \".concat(request.params.id, \" has been updated.\")\n  });\n});\napp.patch('/api/v1/pets/:id', function (request, response) {\n  var id = request.params.id;\n  var found = app.locals.pets.find(function (pet) {\n    return pet.id === id;\n  });\n\n  if (!found) {\n    response.status(400).json({\n      message: \"No item was found with id of \".concat(request.params.id, \".\")\n    });\n  }\n});\napp.listen(app.get('port'), function () {\n  console.log(\"\".concat(app.locals.title, \" is running on http://localhost:\").concat(app.get('port'), \".\"));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHByZXNzIiwicmVxdWlyZSIsImFwcCIsImNvcnMiLCJ1c2UiLCJqc29uIiwic2V0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsb2NhbHMiLCJ0aXRsZSIsInBldHMiLCJpZCIsIm5hbWUiLCJ0eXBlIiwiZ2V0IiwicmVxdWVzdCIsInJlc3BvbnNlIiwic2VuZCIsInBhcmFtcyIsInBldCIsImZpbmQiLCJzZW5kU3RhdHVzIiwic3RhdHVzIiwicG9zdCIsIkRhdGUiLCJub3ciLCJib2R5IiwicmVxdWlyZWRQYXJhbWV0ZXIiLCJlcnJvciIsInB1c2giLCJwYXRjaCIsImNvbnNvbGUiLCJsb2ciLCJmb3VuZCIsIm1lc3NhZ2UiLCJjaGFuZ2UiLCJtYXAiLCJsaXN0ZW4iXSwic291cmNlUm9vdCI6Ii9Vc2Vycy9yb3J5bWFnZWUvdHVyaW5nLzVtb2R1bGUvbGVhcm5pbmctbm9kZS9yZWFjdC1leHByZXNzL2V4cHJlc3MtYmUvIiwic291cmNlcyI6WyJzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKTtcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKTtcbmNvbnN0IGNvcnMgPSByZXF1aXJlKCdjb3JzJylcbmFwcC51c2UoZXhwcmVzcy5qc29uKCkpO1xuYXBwLnVzZShjb3JzKCkpO1xuXG4vLyBjb25zdCBleHByZXNzID0gcmVxdWlyZSgnZXhwcmVzcycpXG4vLyBjb25zdCBhcHAgPSBleHByZXNzKClcbi8vIGNvbnN0IGVudmlyb25tZW50ID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50J1xuLy8gY29uc3QgY29uZmlndXJhdGlvbiA9IHJlcXVpcmUoJy4va25leGZpbGUnKVtlbnZpcm9ubWVudF1cbi8vIGNvbnN0IGRhdGFiYXNlID0gcmVxdWlyZSgna25leCcpKGNvbmZpZ3VyYXRpb24pXG5cbi8vIGFwcC51c2UoZXhwcmVzcy5zdGF0aWMoJ3B1YmxpYycpKTtcbi8vIGFwcC5nZXQoJy8nLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHt9KTtcblxuYXBwLnNldCgncG9ydCcsIHByb2Nlc3MuZW52LlBPUlQgfHwgMzAwMSk7XG5hcHAubG9jYWxzLnRpdGxlID0gJ1BldCBCb3gnO1xuXG5hcHAubG9jYWxzLnBldHMgPSBbXG4gIHsgaWQ6ICdhMScsIG5hbWU6ICdKZXNzaWNhJywgdHlwZTogJ2RvZycgfSxcbiAgeyBpZDogJ2IyJywgbmFtZTogJ01hcmN1cyBBdXJlbGl1cycsIHR5cGU6ICdwYXJha2VldCcgfSxcbiAgeyBpZDogJ2MzJywgbmFtZTogJ0NyYWlzaW5zJywgdHlwZTogJ2NhdCcgfVxuXTtcblxuYXBwLmdldCgnLycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICByZXNwb25zZS5zZW5kKCdPaCBoZXkgUGV0IEJveCcpO1xuICAvLyByZXNwb25zZS5zZW5kKGFwcC5sb2NhbHMucGV0c1swXS5uYW1lKTtcbn0pO1xuXG5cblxuYXBwLmdldCgnL2FwaS92MS9wZXRzJywgKHJlcXVlc3QsIHJlc3BvbnNlKSA9PiB7XG4gIGNvbnN0IHBldHMgPSBhcHAubG9jYWxzLnBldHM7XG5cbiAgcmVzcG9uc2UuanNvbih7IHBldHMgfSk7XG59KTtcblxuLy8gYXBwLmdldCgnL2FwaS92MS9wZXRzLzppZCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuLy8gICAvLyByZXNwb25zZS5qc29uKHtcbi8vICAgLy8gICBpZDogcmVxdWVzdC5wYXJhbXMuaWRcbi8vICAgLy8gfSk7XG4vLyAgIGNvbnN0IHBldHMgPSBhcHAubG9jYWxzLnBldHM7XG4vLyAgIGNvbnN0IG91dHB1dCA9IHBldHMuZmluZChwZXQgPT4gcGV0LmlkID09PSByZXF1ZXN0LnBhcmFtcy5pZClcbi8vICAgcmVzcG9uc2Uuc3RhdHVzKDIwMCkuanNvbiggb3V0cHV0ICk7XG4vLyB9KTtcblxuYXBwLmdldCgnL2FwaS92MS9wZXRzLzppZCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICBjb25zdCB7IGlkIH0gPSByZXF1ZXN0LnBhcmFtcztcbiAgY29uc3QgcGV0ID0gYXBwLmxvY2Fscy5wZXRzLmZpbmQocGV0ID0+IHBldC5pZCA9PT0gaWQpO1xuICBpZiAoIXBldCkge1xuICAgIHJldHVybiByZXNwb25zZS5zZW5kU3RhdHVzKDQwNCk7XG4gICAgLy8gY29uc3QgZXJyID0geyAnZXJyJzogJzQwNCBOb3QgRm91bmQnIH07XG4gICAgLy8gcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg0MDQpLmpzb24oZXJyLmVycik7XG4gIH1cblxuICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHBldCk7XG59KTtcblxuYXBwLnBvc3QoJy9hcGkvdjEvcGV0cycsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICBjb25zdCBpZCA9IERhdGUubm93KCk7XG4gIGNvbnN0IHBldCA9IHJlcXVlc3QuYm9keTtcblxuICBmb3IgKGxldCByZXF1aXJlZFBhcmFtZXRlciBvZiBbJ25hbWUnLCAndHlwZSddKSB7XG4gICAgaWYgKCFwZXRbcmVxdWlyZWRQYXJhbWV0ZXJdKSB7XG4gICAgICByZXNwb25zZVxuICAgICAgICAuc3RhdHVzKDQyMilcbiAgICAgICAgLnNlbmQoeyBlcnJvcjogYEV4cGVjdGVkIGZvcm1hdDogeyBuYW1lOiA8U3RyaW5nPiwgdHlwZTogPFN0cmluZz4gfS4gWW91J3JlIG1pc3NpbmcgYSBcIiR7cmVxdWlyZWRQYXJhbWV0ZXJ9XCIgcHJvcGVydHkuYCB9KTtcbiAgICB9XG4gIH1cblxuICBjb25zdCB7IG5hbWUsIHR5cGUgfSA9IHBldDtcbiAgYXBwLmxvY2Fscy5wZXRzLnB1c2goeyBuYW1lLCB0eXBlLCBpZCB9KTtcbiAgcmVzcG9uc2Uuc3RhdHVzKDIwMSkuanNvbih7IG5hbWUsIHR5cGUsIGlkIH0pO1xufSk7XG5cbmFwcC5wYXRjaCgnL2FwaS92MS9wZXRzLzppZCcsIChyZXF1ZXN0LCByZXNwb25zZSkgPT4ge1xuICBjb25zdCBpZCA9IHJlcXVlc3QucGFyYW1zLmlkO1xuICBjb25zdCBwZXQgPSByZXF1ZXN0LmJvZHk7XG4gIGNvbnNvbGUubG9nKHBldCk7XG4gIGNvbnN0IGZvdW5kID0gYXBwLmxvY2Fscy5wZXRzLmZpbmQocGV0ID0+IHBldC5pZCA9PT0gaWQpO1xuICBjb25zb2xlLmxvZyhmb3VuZClcblxuICBpZiAoIWZvdW5kKSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzKDQwMCkuanNvbih7IG1lc3NhZ2U6IGBObyBpdGVtIHdhcyBmb3VuZCB3aXRoIGlkIG9mICR7cmVxdWVzdC5wYXJhbXMuaWR9LmB9KVxuICB9XG5cbiAgLy8gaWYgKCFwZXQubmFtZSAmJiAhcGV0LnR5cGUpIHtcbiAgLy8gICByZXNwb25zZVxuICAvLyAgICAgLnN0YXR1cyg0MjIpXG4gIC8vICAgICAuc2VuZCh7IGVycm9yOiBgRXhwZWN0ZWQgZWl0aGVyIG5hbWU6IDxTdHJpbmc+IG9yIHR5cGU6IDxTdHJpbmc+IGluIGJvZHkuIFlvdSdyZSBtaXNzaW5nIG9uZSBvciB0aGUgb3RoZXIgb3IgYm90aC5gIH0pO1xuICAvLyB9XG5cbiAgY29uc3QgY2hhbmdlID0geyBuYW1lOiByZXF1ZXN0LmJvZHkubmFtZSB8fCBmb3VuZC5uYW1lLCB0eXBlOiByZXF1ZXN0LmJvZHkudHlwZSB8fCBmb3VuZC50eXBlLCBpZDogZm91bmQuaWR9XG4gIGFwcC5sb2NhbHMucGV0cyA9IGFwcC5sb2NhbHMucGV0cy5tYXAocGV0ID0+IHtcbiAgICBpZiAocGV0LmlkID09PSBpZCkge1xuICAgICAgcmV0dXJuIGNoYW5nZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHBldDtcbiAgICB9XG4gIH0pO1xuICByZXNwb25zZS5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogYFRoZSBpdGVtIHdpdGggaWQgb2YgJHtyZXF1ZXN0LnBhcmFtcy5pZH0gaGFzIGJlZW4gdXBkYXRlZC5gfSk7XG5cbn0pO1xuXG5hcHAucGF0Y2goJy9hcGkvdjEvcGV0cy86aWQnLCAocmVxdWVzdCwgcmVzcG9uc2UpID0+IHtcbiAgY29uc3QgaWQgPSByZXF1ZXN0LnBhcmFtcy5pZDtcbiAgY29uc3QgZm91bmQgPSBhcHAubG9jYWxzLnBldHMuZmluZChwZXQgPT4gcGV0LmlkID09PSBpZCk7XG5cbiAgaWYgKCFmb3VuZCkge1xuICAgIHJlc3BvbnNlLnN0YXR1cyg0MDApLmpzb24oeyBtZXNzYWdlOiBgTm8gaXRlbSB3YXMgZm91bmQgd2l0aCBpZCBvZiAke3JlcXVlc3QucGFyYW1zLmlkfS5gfSlcbiAgfVxufSlcblxuYXBwLmxpc3RlbihhcHAuZ2V0KCdwb3J0JyksICgpID0+IHtcbiAgY29uc29sZS5sb2coYCR7YXBwLmxvY2Fscy50aXRsZX0gaXMgcnVubmluZyBvbiBodHRwOi8vbG9jYWxob3N0OiR7YXBwLmdldCgncG9ydCcpfS5gKTtcbn0pOyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQU1DLEdBQUcsR0FBR0YsT0FBTyxFQUFuQjs7QUFDQSxJQUFNRyxJQUFJLEdBQUdGLE9BQU8sQ0FBQyxNQUFELENBQXBCOztBQUNBQyxHQUFHLENBQUNFLEdBQUosQ0FBUUosT0FBTyxDQUFDSyxJQUFSLEVBQVI7QUFDQUgsR0FBRyxDQUFDRSxHQUFKLENBQVFELElBQUksRUFBWixFLENBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBRUFELEdBQUcsQ0FBQ0ksR0FBSixDQUFRLE1BQVIsRUFBZ0JDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxJQUFaLElBQW9CLElBQXBDO0FBQ0FQLEdBQUcsQ0FBQ1EsTUFBSixDQUFXQyxLQUFYLEdBQW1CLFNBQW5CO0FBRUFULEdBQUcsQ0FBQ1EsTUFBSixDQUFXRSxJQUFYLEdBQWtCLENBQ2hCO0VBQUVDLEVBQUUsRUFBRSxJQUFOO0VBQVlDLElBQUksRUFBRSxTQUFsQjtFQUE2QkMsSUFBSSxFQUFFO0FBQW5DLENBRGdCLEVBRWhCO0VBQUVGLEVBQUUsRUFBRSxJQUFOO0VBQVlDLElBQUksRUFBRSxpQkFBbEI7RUFBcUND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","map":{"version":3,"names":["express","require","app","cors","use","json","set","process","env","PORT","locals","title","pets","id","name","type","get","request","response","send","params","pet","find","sendStatus","status","post","Date","now","body","requiredParameter","error","push","patch","console","log","found","message","change","map","listen"],"sourceRoot":"/Users/rorymagee/turing/5module/learning-node/react-express/express-be/","sources":["server.js"],"sourcesContent":["const express = require('express');\nconst app = express();\nconst cors = require('cors')\napp.use(express.json());\napp.use(cors());\n\n// const express = require('express')\n// const app = express()\n// const environment = process.env.NODE_ENV || 'development'\n// const configuration = require('./knexfile')[environment]\n// const database = require('knex')(configuration)\n\n// app.use(express.static('public'));\n// app.get('/', (request, response) => {});\n\napp.set('port', process.env.PORT || 3001);\napp.locals.title = 'Pet Box';\n\napp.locals.pets = [\n  { id: 'a1', name: 'Jessica', type: 'dog' },\n  { id: 'b2', name: 'Marcus Aurelius', type: 'parakeet' },\n  { id: 'c3', name: 'Craisins', type: 'cat' }\n];\n\napp.get('/', (request, response) => {\n  response.send('Oh hey Pet Box');\n  // response.send(app.locals.pets[0].name);\n});\n\n\n\napp.get('/api/v1/pets', (request, response) => {\n  const pets = app.locals.pets;\n\n  response.json({ pets });\n});\n\n// app.get('/api/v1/pets/:id', (request, response) => {\n//   // response.json({\n//   //   id: request.params.id\n//   // });\n//   const pets = app.locals.pets;\n//   const output = pets.find(pet => pet.id === request.params.id)\n//   response.status(200).json( output );\n// });\n\napp.get('/api/v1/pets/:id', (request, response) => {\n  const { id } = request.params;\n  const pet = app.locals.pets.find(pet => pet.id === id);\n  if (!pet) {\n    return response.sendStatus(404);\n    // const err = { 'err': '404 Not Found' };\n    // return response.status(404).json(err.err);\n  }\n\n  response.status(200).json(pet);\n});\n\napp.post('/api/v1/pets', (request, response) => {\n  const id = Date.now();\n  const pet = request.body;\n\n  for (let requiredParameter of ['name', 'type']) {\n    if (!pet[requiredParameter]) {\n      response\n        .status(422)\n        .send({ error: `Expected format: { name: <String>, type: <String> }. You're missing a \"${requiredParameter}\" property.` });\n    }\n  }\n\n  const { name, type } = pet;\n  app.locals.pets.push({ name, type, id });\n  response.status(201).json({ name, type, id });\n});\n\napp.patch('/api/v1/pets/:id', (request, response) => {\n  const id = request.params.id;\n  const pet = request.body;\n  console.log(pet);\n  const found = app.locals.pets.find(pet => pet.id === id);\n  console.log(found)\n\n  if (!found) {\n    response.status(400).json({ message: `No item was found with id of ${request.params.id}.`})\n  }\n\n  // if (!pet.name && !pet.type) {\n  //   response\n  //     .status(422)\n  //     .send({ error: `Expected either name: <String> or type: <String> in body. You're missing one or the other or both.` });\n  // }\n\n  const change = { name: request.body.name || found.name, type: request.body.type || found.type, id: found.id}\n  app.locals.pets = app.locals.pets.map(pet => {\n    if (pet.id === id) {\n      return change;\n    } else {\n      return pet;\n    }\n  });\n  response.status(200).json({ message: `The item with id of ${request.params.id} has been updated.`});\n\n});\n\napp.patch('/api/v1/pets/:id', (request, response) => {\n  const id = request.params.id;\n  const found = app.locals.pets.find(pet => pet.id === id);\n\n  if (!found) {\n    response.status(400).json({ message: `No item was found with id of ${request.params.id}.`})\n  }\n})\n\napp.listen(app.get('port'), () => {\n  console.log(`${app.locals.title} is running on http://localhost:${app.get('port')}.`);\n});"],"mappings":"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"}},"mtime":1657140492418}}